<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
<div id="div1" style="height:300px; background:red;">div</div>
</body>
</html>
<script src="event1.js"></script>
<script>
function fn1(){alert(1);}
function fn2(){alert(2);}
var i=0;
function fn3(){
	i++;
	if(i==3){
		off(this,"click",fn1);
		off(this,"click",fn2);
		off(this,"click",fn3);
		/*[fn1,fn2,fn3,fn4,fn5,fn6,fn7]
		//click事件触发，执行run方法，run去遍历数组
		//当i==2的时候，执行fn3
		//fn3里面又执行off，关键代码如下：
		for(var i=0;i<a.length;i++){
			if(a[i]==fn){
				//a[i]=null;
				a.splice(i,1);
				i--;
				break;
			}	
		}
	
	//off执行三次之后，数组就变成：
	[fn4,fn5,fn6,fn7]
	//接下来i++,然后i==3
	//现在的a[3]是fn7，所以中间有三个方法被跳过去了
	*/}
	alert(3);}
function fn4(){alert(4);}
function fn5(){alert(5);}
function fn6(){alert(6);}
function fn7(){alert(7);}
on(div1,"click",fn1);
on(div1,"click",fn2);
on(div1,"click",fn3);
on(div1,"click",fn4);
on(div1,"click",fn5);
on(div1,"click",fn6);
on(div1,"click",fn7);

</script>
