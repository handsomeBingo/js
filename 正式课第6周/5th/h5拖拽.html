<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        ul li{
            width:100px;
            height:30px;
            background: green;
            margin:10px 0;
        }
        #div1{
            width:200px;
            height:200px;
            background: deeppink;
        }
    </style>
</head>
<body>
<ul id="menu">
    <li draggable="true"></li>
    <li draggable="true"></li>
    <li draggable="true"></li>
</ul>
<div id="div1"></div>
<img src="img/1.png" alt="" id="img1">
</body>
<script>
    var oLis=document.querySelectorAll("li");
    var oImg=document.querySelector("#img1");
    [].forEach.call(oLis,function(item,index){
        item.addEventListener("dragstart",dragstart);
        item.addEventListener("drag",drag);
        item.addEventListener("dragend",dragend);
    })

    function dragstart(e){
        this.style.backgroundColor="purple";
        e.dataTransfer.setData("text","I am a dragging element with message");
        e.dataTransfer.effectAllowed="copyLink";//
        e.dataTransfer.setDragImage(oImg,50,50);//设置重影的效果，并且可以设置光标在图片的位置
    };
    var i=0
    function drag(e){
        document.title=i++;
    };
    function dragend(e){
        this.style.backgroundColor="blue";
    };

    oDiv=document.querySelector("#div1");
    oDiv.ondragenter=function(){
        this.style.backgroundColor="red";
        this.innerHTML="you can set the mouse free"
    };
    oDiv.ondragover=function(e){
        e.preventDefault();//把浏览器默认的阻止拖拽元素进入目标元素的机制关闭
        this.style.border="1px solid black"
    };
    oDiv.ondragleave=function(){
        this.style.backgroundColor="aqua"
    };
    oDiv.ondrop=function(e){
        this.style.fontSize="50px";
        var oText=e.dataTransfer.getData("text");
        this.innerHTML=oText;

    };
    //如果触发drop事件的时候不会触发dropleave事件，如果不阻止浏览器的默认功能，就不会触发drop事件，而是会触发dropleave
</script>
</html>